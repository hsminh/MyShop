<!DOCTYPE html>
<html lang="en">
<head>
    <div th:replace="component/fragmen::header"></div>

    <link rel="stylesheet" href="css/slide.css">
    <link rel="stylesheet" href="css/button.css">
    <script th:src="@{/javascripts/mainpage/main-page.js}" type="text/javascript"></script>
</head>

<input type="hidden" id="categoryId" th:value="${category}" />
<body class="bg-white text-gray-600 work-sans leading-normal text-base tracking-normal">
<div th:replace="component/fragmen::Navbar"></div>
<div th:replace="component/slide::slide"></div>
<div th:replace="component/notification::announcement"></div>
<section class="bg-white py-8" style="background-color: #F2F2F2">
    <div class="mb-8  max-w-md mx-auto">
        <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
        <div class="relative">
            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                </svg>
            </div>
            <input name="search" type="search" id="default-search" class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Search By Name Or SKU....." required onchange="saveSearchValue(this.value)" />
            <button id="searchButton" class="text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Search</button>
        </div>
    </div>

    <div th:if="${listCategory != null and listCategory.size() != 0}" class="flex flex-col justify-center items-center my-8" >
        <div class="max-w-8xl mx-auto">
            <p class="px-4 h-16 flex items-center uppercase text-stone-500">Category</p>
            <div class="grid grid-cols-10 gap-2 w-50 h-80 divide-stone-200 divide-y-[1px]  border-[1px] border-stone-200">
                <th:block th:each=" ProductCategory : ${listCategory}">
                        <a th:href="@{/main-page(category=${ProductCategory.id},search=${search}, isChoiceCategory=${ProductCategory})}" class="hover:border-blue-500 flex flex-col justify-center border border-sky-500  items-center hover:shadow-md transition-all duration-500 border-r-[1px] border-stone-200 hover: transform transition duration-300 hover:scale-110">
                            <img th:src="${ProductCategory.loadImages()}" alt="" class="h-20">
                            <p class="text-center p-2 text-sm" th:text="${#strings.length(ProductCategory.name) &gt; 10} ? ${#strings.substring(ProductCategory.name, 0, 10) + '...'} : ${ProductCategory.name}"></p>
                        </a>
                </th:block>
            </div>
        </div>
    </div>
    <div >
        <div th:if="${productsOrderedMost != null and productsOrderedMost.size()!=0}" style="text-align: center;" class="flex justify-center items-center">
            <p class="text-4xl px-4 h-16 flex items-center uppercase text-stone-500">Best-selling products</p>
        </div>
        <div class="container mx-auto flex items-center flex-wrap pt-4 pb-12">
            <div th:if="${productsOrderedMost != null and productsOrderedMost.size()!=0}">
                <div class="pagination-buttons flex justify-between items-center">
                    <button class="bg-zinc-50 p-1" id="previous-btn"><ion-icon name="arrow-back-outline"></ion-icon></button>
                    <div class="grid grid-cols-5 gap-4 p-4">
                        <div th:each="product, iterStat : ${productsOrderedMost}" class="hover:border-blue-500 product-item bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 transform transition duration-300 hover:scale-105 w-full mb-4 md:w-auto">
                            <a th:href="@{cart (productId=${product.getProduct().id})}">
                                <img class="p-8 rounded-t-lg transform transition duration-300 hover:scale-110 " th:src="@{${product.getProduct().loadImages}}" alt="product image" />
                                <div class="px-5 pb-5">
                                    <h5 class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white" th:text="${product.getProduct().name}">Apple Watch Series 7 GPS, Aluminium Case, Starlight Sport</h5>
                                    <div class="flex mt-2.5 mb-5" style="max-height: 60px; overflow: hidden;">
                                        <p><b>Description :</b> [[${product.getProduct().content}]]</p>
                                    </div>
                                    <b>Price :</b>
                                    <del class="text-red-500">[[${product.getProduct().price}]]</del>
                                    <span>[[${product.getProduct().discountPrice}]]</span>
                                    <div>
                                        <span><b>Sold items:</b>[[${product.quantiryPurchase}]]</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <button type="submit" class="mt-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:focus:ring-blue-800">
                                            <i class="fas fa-shopping-cart fa-1x"></i>
                                            <span class="ml-2">Add to Cart</span>
                                        </button>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <button class="bg-zinc-50 p-1" id="next-btn"><ion-icon name="arrow-forward-outline"></ion-icon></button>
                </div>
            </div>
    </div>

        <div th:if="${isChoiceCategory != null}" style="text-align: center;" class="flex justify-center items-center">
            <a class="text-4xl px-4 h-16 flex items-center uppercase text-stone-500">
                <span th:text="${#strings.length(isChoiceCategory) > 15 ? #strings.substring(isChoiceCategory, 0, 15) + '...' : isChoiceCategory}"></span>
            </a>
        </div>

        <div th:if="${isChoiceCategory==null}" style="text-align: center;" class="flex justify-center items-center">
            <p class="text-4xl px-4 h-16 flex items-center uppercase text-stone-500">All Product</p>
        </div>

        <div class="container mx-auto">
            <div class="mt-6 grid grid-cols-6 gap-2">
                <div th:each="Product : ${listProduct}">
                    <a th:href="@{cart (productId=${Product.id})}">
                        <div class="p-2 bg-white rounded shadow-md border border-gray-200 transform transition duration-300 hover:scale-105 hover:border-blue-500">
                            <div class="relative w-full mb-1 sm:mb-1 h-32 sm:h-32">
                                <img th:src="@{${Product.loadImages}}" alt="Product Image" class="object-cover w-full h-full rounded">
                            </div>
                            <div class="bg-gray-100">
                                <div class="p-2 sm:p-2">
                                    <h2 class="text-xs sm:text-sm cursor-pointer hover:text-gray-900 product-name">
                                        <b>Name :</b> [[${Product.name}]]
                                    </h2>
                                    <h2 class="mt-1 text-xs sm:text-xs cursor-pointer hover:text-gray-900 product-name">
                                        <b>Description :</b> [[${Product.content}]]
                                    </h2>
                                    <h2 class="mt-1 text-xs sm:text-xs cursor-pointer hover:text-gray-900 product-name">
                                        <b>SKU :</b> [[${Product.sku}]]
                                    </h2>
                                    <div class="mt-1 text-xs font-semibold">
                                        <b>Price :</b>
                                        <del class="text-red-500">[[${Product.price}]]</del>
                                        <span>[[${Product.discountPrice}]]</span>
                                    </div>
                                    <form th:action="@{/cart}" method="get">
                                        <input type="hidden" name="productId" th:value="${Product.id}" />
                                        <button type="submit" class="mt-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-xs sm:text-xs px-4 py-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:focus:ring-blue-800">
                                            <i class="fas fa-shopping-cart fa-1x"></i>
                                            <span class="ml-1">Add to Cart</span>
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>





    </div>

</section>


<section class="bg-white py-8">
    <div class="container py-8 px-6 mx-auto">
        <h2 class="uppercase tracking-wide no-underline hover:no-underline font-bold text-gray-800 text-xl mb-8">Thank You for Visiting</h2>

        <p class="mt-8 mb-8">
            We extend our heartfelt thanks to you for taking the time to visit our store. SDN is committed to providing the finest quality technology products along with attentive and professional customer service.
        </p>

        <p class="mb-8">
            Here at SDN, we specialize in offering a wide range of cutting-edge technological products to meet your needs. Our goal is to enhance your digital experience and make technology more accessible to everyone.
        </p>
    </div>
</section>

<footer th:replace="component/fragmen::footer"></footer>
</body>

</html>